<div class="row">
<div class="col-sm-6">
    <mat-card class="example-card" [formGroup]="productSalesform" >
        <mat-card-header class="header">
           Products-Sales
        </mat-card-header>
        <mat-card-content>
            <mat-form-field>
                <mat-label>Mobile Number</mat-label>
               <input matInput formControlName="mobileno" >
              </mat-form-field>
              <div  *ngIf="viewproductsflag">
                <div class="row" >
                  <div class="col-sm-6 " *ngFor="let p of viewproducts, let i= index">
                    <div  *ngFor="let n of p.product_details, let j= index" class="p-2">

                    <span>ProductName:</span>
                    <input class="checkbox" type="checkbox" #pcheckbox formControlName="productName"  [value]="n.productName" > {{n.productName}}<br>

                    <span>Price:</span>
                    {{p.sellingPrice}}<br>

                   <input   type="text"   formControlName="Quantity" (input)="selectedProducts($event,p)"><br><br>

                  </div>
                  </div>
                </div>
              </div> 
              <div *ngIf="viewproductsflag "  class="text-center p-2">
                <button mat-raised-button color="primary" (click)="Save()" >save</button>
            </div> 
        </mat-card-content>
        <mat-card-footer>
            <div class="text-center " *ngIf="!viewproductsflag ">
                <button mat-raised-button color="primary" (click)="Enter(); getHistory()">Enter</button>
            </div>   
        </mat-card-footer>
      </mat-card>
    
    </div>
  
  <div class="col-sm-6" *ngIf="historyFlag">
     <mat-card class="cus-card ">
        <mat-card-header class="header">
           Customer History
        </mat-card-header>
           <p class="mob"> Customer MobileNo.<span class="cmb">{{Customer[0].mobileno}}</span></p>
          <mat-card-content>

            <table class="table">
              <thead>
                <tr>
                  <th>Product Name</th>
                  <th>Price</th>
                  <th>Quantity</th>
                  <th>Total</th>
                  <th>Date</th>
                </tr>
              </thead>
              <tbody *ngFor=" let s of Customer">
                <tr *ngFor=" let p of s.saledProducts; let i=index">
                  <td>{{p.productName}}</td>
                  <td>{{p.Price}}</td>
                  <td>{{p.Quantity}}</td>
                  <td>{{p.Total}}</td>
                  <td>{{s.createdAt | date}}</td>
                  <!-- <td>{{Customer.saledProducts[0].productName}}</td>
                  <td>{{Customer.saledProducts[0].Price}}</td>
                  <td>{{Customer.saledProducts[0].Quantity}}</td>
                  <td>{{Customer.saledProducts[0].Total}}</td> -->
                </tr>
              
              </tbody>
            </table>
          </mat-card-content>
     </mat-card>

  </div>  

    
  </div>    
